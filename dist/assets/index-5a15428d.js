import{b as Y,i as ee,d as E,u as de,c as M,o as _,a as N,e as T,w as y,r as te,f as u,E as D,g as I,n as w,h as j,_ as oe,j as ce,k as F,l as ue,m as V,T as O,p as ne,q as fe,s as R,t as h,v as q,x as Z,F as pe,y as G,z as me,A as v,B as ge,C as he,D as ve,G as W,H as ye,I as A,J,K as _e,L as Q,M as Ce,N as be,O as se,P as we,Q as ke,R as Ee,S as Se,U as $e,V as Me,W as Te,X as Ie,Y as Ne,Z as U,$ as He,a0 as Ve,a1 as xe,a2 as Be}from"./index-711bad6c.js";import{E as Pe}from"./el-button-31d35a19.js";import{E as ze}from"./el-checkbox-fc98ec04.js";import{g as Le}from"./time-0b1c2c80.js";const Fe=Y({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:ee}}),We={click:i=>i instanceof MouseEvent},Ue=["href"],De=E({name:"ElLink"}),je=E({...De,props:Fe,emits:We,setup(i,{emit:s}){const o=i,l=de("link"),d=M(()=>[l.b(),l.m(o.type),l.is("disabled",o.disabled),l.is("underline",o.underline&&!o.disabled)]);function m(r){o.disabled||s("click",r)}return(r,g)=>(_(),N("a",{class:w(u(d)),href:r.disabled||!r.href?void 0:r.href,onClick:m},[r.icon?(_(),T(u(D),{key:0},{default:y(()=>[(_(),T(te(r.icon)))]),_:1})):I("v-if",!0),r.$slots.default?(_(),N("span",{key:1,class:w(u(l).e("inner"))},[j(r.$slots,"default")],2)):I("v-if",!0),r.$slots.icon?j(r.$slots,"icon",{key:2}):I("v-if",!0)],10,Ue))}});var qe=oe(je,[["__file","/home/runner/work/element-plus/element-plus/packages/components/link/src/link.vue"]]);const Ae=ce(qe),ie=["success","info","warning","error"],Ke=Y({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:ee},id:{type:String,default:""},message:{type:F([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:F(Function),default:()=>{}},onClose:{type:F(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...ie,""],default:""},zIndex:{type:Number,default:0}}),Oe={destroy:()=>!0},Re=["id"],Ze=["textContent"],Ge={key:0},Je=["innerHTML"],Qe=E({name:"ElNotification"}),Xe=E({...Qe,props:Ke,emits:Oe,setup(i,{expose:s}){const o=i,{ns:l,zIndex:d}=ue("notification"),{nextZIndex:m,currentZIndex:r}=d,{Close:g}=he,e=V(!1);let n;const f=M(()=>{const t=o.type;return t&&O[o.type]?l.m(t):""}),c=M(()=>o.type&&O[o.type]||o.icon),C=M(()=>o.position.endsWith("right")?"right":"left"),S=M(()=>o.position.startsWith("top")?"top":"bottom"),L=M(()=>({[S.value]:`${o.offset}px`,zIndex:r.value}));function $(){o.duration>0&&({stop:n}=ve(()=>{e.value&&p()},o.duration))}function x(){n==null||n()}function p(){e.value=!1}function a({code:t}){t===W.delete||t===W.backspace?x():t===W.esc?e.value&&p():$()}return ne(()=>{$(),m(),e.value=!0}),fe(document,"keydown",a),s({visible:e,close:p}),(t,b)=>(_(),T(ge,{name:u(l).b("fade"),onBeforeLeave:t.onClose,onAfterLeave:b[1]||(b[1]=B=>t.$emit("destroy")),persisted:""},{default:y(()=>[R(h("div",{id:t.id,class:w([u(l).b(),t.customClass,u(C)]),style:q(u(L)),role:"alert",onMouseenter:x,onMouseleave:$,onClick:b[0]||(b[0]=(...B)=>t.onClick&&t.onClick(...B))},[u(c)?(_(),T(u(D),{key:0,class:w([u(l).e("icon"),u(f)])},{default:y(()=>[(_(),T(te(u(c))))]),_:1},8,["class"])):I("v-if",!0),h("div",{class:w(u(l).e("group"))},[h("h2",{class:w(u(l).e("title")),textContent:Z(t.title)},null,10,Ze),R(h("div",{class:w(u(l).e("content")),style:q(t.title?void 0:{margin:0})},[j(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(_(),N(pe,{key:1},[I(" Caution here, message could've been compromised, never use user's input as message "),h("p",{innerHTML:t.message},null,8,Je)],2112)):(_(),N("p",Ge,Z(t.message),1))])],6),[[G,t.message]]),t.showClose?(_(),T(u(D),{key:0,class:w(u(l).e("closeBtn")),onClick:me(p,["stop"])},{default:y(()=>[v(u(g))]),_:1},8,["class","onClick"])):I("v-if",!0)],2)],46,Re),[[G,e.value]])]),_:3},8,["name","onBeforeLeave"]))}});var Ye=oe(Xe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue"]]);const P={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},K=16;let et=1;const H=function(i={},s=null){if(!ye)return{close:()=>{}};(typeof i=="string"||A(i))&&(i={message:i});const o=i.position||"top-right";let l=i.offset||0;P[o].forEach(({vm:f})=>{var c;l+=(((c=f.el)==null?void 0:c.offsetHeight)||0)+K}),l+=K;const d=`notification_${et++}`,m=i.onClose,r={...i,offset:l,id:d,onClose:()=>{tt(d,o,m)}};let g=document.body;J(i.appendTo)?g=i.appendTo:_e(i.appendTo)&&(g=document.querySelector(i.appendTo)),J(g)||(g=document.body);const e=document.createElement("div"),n=v(Ye,r,A(r.message)?{default:()=>r.message}:null);return n.appContext=s??H._context,n.props.onDestroy=()=>{Q(null,e)},Q(n,e),P[o].push({vm:n}),g.appendChild(e.firstElementChild),{close:()=>{n.component.exposed.visible.value=!1}}};ie.forEach(i=>{H[i]=(s={})=>((typeof s=="string"||A(s))&&(s={message:s}),H({...s,type:i}))});function tt(i,s,o){const l=P[s],d=l.findIndex(({vm:n})=>{var f;return((f=n.component)==null?void 0:f.props.id)===i});if(d===-1)return;const{vm:m}=l[d];if(!m)return;o==null||o(m);const r=m.el.offsetHeight,g=s.split("-")[0];l.splice(d,1);const e=l.length;if(!(e<1))for(let n=d;n<e;n++){const{el:f,component:c}=l[n].vm,C=Number.parseInt(f.style[g],10)-r-K;c.props.offset=C}}function ot(){for(const i of Object.values(P))i.forEach(({vm:s})=>{s.component.exposed.visible.value=!1})}H.closeAll=ot;H._context=null;const X=Ce(H,"$notify");const nt=["width","height"],st=E({name:"Identify"}),it=E({...st,props:{identifyCode:{default:"1234"},fontSizeMin:{default:25},fontSizeMax:{default:35},backgroundColorMin:{default:200},backgroundColorMax:{default:220},dotColorMin:{default:60},dotColorMax:{default:120},contentWidth:{default:100},contentHeight:{default:40}},setup(i){const s=i,o=(e,n)=>Math.floor(Math.random()*(n-e)+e),l=(e,n)=>{let f=o(e,n),c=o(e,n),C=o(e,n);return"rgb("+f+","+c+","+C+")"},d=()=>{let n=document.getElementById("id-canvas").getContext("2d");n.textBaseline="bottom",n.fillStyle="#e6ecfd",n.fillRect(0,0,s.contentWidth,s.contentHeight);for(let f=0;f<s.identifyCode.length;f++)m(n,s.identifyCode[f],f);r(n),g(n)},m=(e,n,f)=>{e.fillStyle=l(50,160),e.font=o(s.fontSizeMin,s.fontSizeMax)+"px SimHei";let c=(f+1)*(s.contentWidth/(s.identifyCode.length+1)),C=o(s.fontSizeMax,s.contentHeight-5);const S=o(-30,30);e.translate(c,C),e.rotate(S*Math.PI/180),e.fillText(n,0,0),e.rotate(-S*Math.PI/180),e.translate(-c,-C)},r=e=>{for(let n=0;n<4;n++)e.strokeStyle=l(100,200),e.beginPath(),e.moveTo(o(0,s.contentWidth),o(0,s.contentHeight)),e.lineTo(o(0,s.contentWidth),o(0,s.contentHeight)),e.stroke()},g=e=>{for(let n=0;n<30;n++)e.fillStyle=l(0,255),e.beginPath(),e.arc(o(0,s.contentWidth),o(0,s.contentHeight),1,0,2*Math.PI),e.fill()};return ne(()=>{d()}),be(()=>s.identifyCode,e=>{console.log(e),d()}),(e,n)=>(_(),N("div",{class:"canvas-box",style:q({height:e.contentHeight+"px"})},[h("canvas",{id:"id-canvas",class:"id-canvas",width:e.contentWidth,height:e.contentHeight},null,8,nt)],4))}});const lt=se(it,[["__scopeId","data-v-779690c7"]]),z=i=>(He("data-v-ad52f9fb"),i=i(),Ve(),i),at={class:"login-wrap"},rt=z(()=>h("div",{class:"login-left"},null,-1)),dt={class:"login-right"},ct={class:"container"},ut=z(()=>h("h1",{class:"title"},"Welcome back",-1)),ft=z(()=>h("p",{class:"desc"},"Enter the information you entered while registering",-1)),pt={class:"remember"},mt={class:"login"},gt=z(()=>h("div",{class:"mt-4 text-sm text-gray-300"},"Tips : 用户名和密码任意",-1)),ht=E({__name:"index",setup(i){let s=we(),o=ke(),l=V(!1);const d=V("1234"),m=V("1234567890abcdefjhijklinopqrsduvwxyz"),r=()=>{d.value="",g(d,4)},g=(p,a)=>{for(let t=0;t<a;t++)d.value+=m.value[e(0,m.value.length)]},e=(p,a)=>Math.floor(Math.random()*(a-p)+p);let n=Ee(),f=V();const c=Se({username:"admin",password:"atguigu123",verifyCode:"1234"}),C=(p,a,t)=>{a.length===0?t(new Error("请输入账号")):t()},S=(p,a,t)=>{a.length===0?t(new Error("请输入密码")):a.length<6||a.length>16?t(new Error("密码应为6~16位的任意组合")):t()},L=(p,a,t)=>{console.log(a,d.value),a.length===0?t(new Error("请输入验证码")):a.length<4?t(new Error("请输入正确的验证码")):d.value!==a?t(new Error("请输入正确的验证码")):d.value===a&&t()},$=async()=>{await f.value.validate(),l.value=!0;try{await n.userLogin(c);let p=o.query.redirect;s.push({path:p||"/"}),s.push("/"),X({type:"success",message:"登陆成功",title:`Hi, ${Le()}好`}),l.value=!1}catch(p){l.value=!1,X({type:"error",message:p.message})}},x={username:[{trigger:"change",validator:C}],password:[{trigger:"change",validator:S}],verifyCode:[{trigger:"blur",validator:L}]};return(p,a)=>{const t=xe,b=Be,B=ze,le=Ae,ae=Pe,re=$e;return _(),N("div",at,[rt,h("div",dt,[h("div",ct,[ut,ft,v(re,{class:"form",model:c,rules:x,ref_key:"loginForms",ref:f,"label-position":"top",size:"large"},{default:y(()=>[v(b,{prop:"username",label:"用户名"},{default:y(()=>[v(t,{modelValue:c.username,"onUpdate:modelValue":a[0]||(a[0]=k=>c.username=k),placeholder:"username","prefix-icon":u(Me)},null,8,["modelValue","prefix-icon"])]),_:1}),v(b,{prop:"password",label:"密码"},{default:y(()=>[v(t,{type:"password",placeholder:"password",modelValue:c.password,"onUpdate:modelValue":a[1]||(a[1]=k=>c.password=k),"prefix-icon":u(Te),onKeyup:a[2]||(a[2]=Ie(k=>$(),["enter"]))},null,8,["modelValue","prefix-icon"])]),_:1}),v(b,{prop:"verifyCode",label:"验证码"},{default:y(()=>[v(t,{"prefix-icon":u(Ne),"show-password":"",modelValue:c.verifyCode,"onUpdate:modelValue":a[3]||(a[3]=k=>c.verifyCode=k),placeholder:"VerifyCode",size:"large",maxlength:"4"},{append:y(()=>[v(lt,{identifyCode:d.value,onClick:r},null,8,["identifyCode"])]),_:1},8,["prefix-icon","modelValue"])]),_:1}),h("div",pt,[v(B,null,{default:y(()=>[U("记住我")]),_:1}),v(le,null,{default:y(()=>[U("忘记密码？")]),_:1})]),h("div",mt,[v(ae,{class:"loginBtn",type:"primary",onClick:a[4]||(a[4]=k=>$())},{default:y(()=>[U(" 登录 ")]),_:1})]),gt]),_:1},8,["model"])])])])}}});const bt=se(ht,[["__scopeId","data-v-ad52f9fb"]]);export{bt as default};
